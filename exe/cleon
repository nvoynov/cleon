#!/usr/bin/env ruby

require "bundler/setup"
require "cleon"
#
# rpos = ARGV.index(">")
# ARGV.pop(ARGV.length - rpos) unless rpos.nil?
# Clerq::Cli.start(ARGV)

usage = <<~EOF
  -= Cleon =- is a code skeleton of services and entities
  To find out more look https://github.com/nvoynov/cleon
  Run '$ cleon clone' for cloning cleon skeleton
EOF

puts ARGV
cmd = ARGV.shift
unless cmd && cmd.downcase == 'clone'
  puts usage
  exit
end

begin
  Cleon.clone_cleon(Dir.pwd) if command == 'clone'
  puts usage unless command == 'clone'
rescue Cleon::Error => e
  puts e.message
end
